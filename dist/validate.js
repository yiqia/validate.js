function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e={required:/\S+/,number:/^\d+$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,mobile:/^1[3456789]\d{9}$/,idCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,money:/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/,date:/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,time:/^([0-1]\d|2[0-3])(:[0-5]\d){1,2}$/,dateTime:/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2} ([0-1]\d|2[0-3])(:[0-5]\d){1,2}$/,zipCode:/^[1-9][0-9]{5}$/,ip:/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,ipv6:/^([\\da-fA-F]{1,4}:){7}[\\da-fA-F]{1,4}$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,chinese:/^[\u4e00-\u9fa5]{0,}$/,english:/^[A-Za-z]+$/},r={required:function(t){return null!=t&&""!==t},max:function(t,e){return t.length<=Number(e)},min:function(t,e){return t.length>=Number(e)},mobile:function(t){return e.mobile.test(t)},idCard:function(t){return e.idCard.test(t)},email:function(t){return e.email.test(t)}};function n(t,e){var r=this;return this.target=t,this.rules=e,this.pending=[],this.error={},this.init(),new Promise((function(t,e){Promise.allSettled(r.pending).then((function(){Object.keys(r.error).length>0?e(r.error):t()}))}))}n.prototype.init=function(){for(var e=Object.keys(this.target),r=0;r<e.length;r++){var n=e[r],i=this.rules[n];if(!i||"object"!==t(i)||Array.isArray(i)){if(i&&i.length>0)for(var o=0;o<i.length;o++){var u=i[o];this.pending.push(this.check(n,this.target[n],u))}}else this.pending.push(this.check(n,this.target[n],i))}},n.prototype.check=function(t,e,n){var i=this;return new Promise((function(o,u){"function"==typeof n.rule?n.rule(e,(function(){o()}),(function(){i.insertError(t,{rule:n.name,msg:n.msg}),u()})):r[n.rule](e,n.value||void 0)?o():(i.insertError(t,n),u())}))},n.prototype.insertError=function(t,e){this.error[t]?this.error[t].push(e):this.error[t]=[e]};export{n as default};
