"use strict";var t={required:/\S+/,number:/^\d+$/,email:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,mobile:/^1[3456789]\d{9}$/,idCard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,money:/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/,date:/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2}$/,time:/^([0-1]\d|2[0-3])(:[0-5]\d){1,2}$/,dateTime:/^\d{4}(\-|\/|\.)\d{1,2}\1\d{1,2} ([0-1]\d|2[0-3])(:[0-5]\d){1,2}$/,zipCode:/^[1-9][0-9]{5}$/,ip:/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/,ipv6:/^([\\da-fA-F]{1,4}:){7}[\\da-fA-F]{1,4}$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+/,chinese:/^[\u4e00-\u9fa5]{0,}$/,english:/^[A-Za-z]+$/},r={required:function(t){return null!=t&&""!==t},max:function(t,r){return t.length<=Number(r)},min:function(t,r){return t.length>=Number(r)},mobile:function(r){return t.mobile.test(r)},idCard:function(r){return t.idCard.test(r)}};function e(t,r){var e=this;return this.target=t,this.rules=r,this.pending=[],this.error={},this.init(),new Promise((function(t,r){Promise.allSettled(e.pending).then((function(){Object.keys(e.error).length>0?r(e.error):t()}))}))}e.prototype.init=function(){for(var t=Object.keys(this.target),r=0;r<t.length;r++){var e=t[r],i=this.rules[e];if(i&&i.length>0)for(var n=0;n<i.length;n++){var o=i[n];this.pending.push(this.check(e,this.target[e],o))}}},e.prototype.check=function(t,e,i){var n=this;return new Promise((function(o,d){"function"==typeof i.rule?i.rule(e,(function(){o()}),(function(r){n.insertError(t,r),d()})):r[i.rule](e,i.value||void 0)?o():(n.insertError(t,i),d())}))},e.prototype.insertError=function(t,r){this.error[t]?this.error[t].push(r):this.error[t]=[r]},module.exports=e;
